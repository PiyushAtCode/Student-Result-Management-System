{% extends "admin_base.html" %}
{% load static %}
{% block content %}

<div class="container mt-5">
  <h2 class="mb-4"><i class="fas fa-bullhorn"></i> Manage Notice</h2>
  
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <!-- Card for the Manage Notices Table -->
  <div class="card">
    <div class="card-header bg-dark text-white">
      <h5 class="mb-0">Notices</h5>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>S No.</th>
              <th>Notice Title</th>
              <th>Notice Details</th>
              <th>Posting Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for i in notices %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ i.title }}</td>
              <td>{{ i.detail }}</td>
              <td>{{ i.posting_date }}</td>
              <td>
                <div class="d-flex gap-2">
                  <a href="{% url 'edit_notice' i.id %}" class="btn btn-info btn-sm">
                    <i class="fas fa-edit"></i> Edit
                  </a>
                  <a href="?delete={{ i.id }}" 
                     onclick="return confirm('Are you sure you want to delete this notice?')" 
                     class="btn btn-danger btn-sm">
                    <i class="fas fa-trash-alt"></i> Delete
                  </a>
                </div>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="5" class="text-center">No notices found.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>

{% endblock content %}
